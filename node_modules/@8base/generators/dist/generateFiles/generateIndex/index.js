"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.generateIndex = void 0;

var changeCase = _interopRequireWildcard(require("change-case"));

var ejs = _interopRequireWildcard(require("ejs"));

var pluralize = _interopRequireWildcard(require("pluralize"));

var _formatCode = require("../../formatCode");

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj["default"] = obj; return newObj; } }

/* babel-plugin-inline-import './index.js.ejs' */
// @ts-ignore
var index = "import React from 'react';\nimport { Card, Heading } from '@8base/boost';\n\nimport { <%= changeCase.pascal(entityName)%>CreateDialog } from './<%= changeCase.pascal(entityName)%>CreateDialog';\nimport { <%= changeCase.pascal(entityName)%>EditDialog } from './<%= changeCase.pascal(entityName)%>EditDialog';\nimport { <%= changeCase.pascal(entityName)%>DeleteDialog } from './<%= changeCase.pascal(entityName)%>DeleteDialog';\nimport { <%= changeCase.pascal(screenName)%>Table } from './<%= changeCase.pascal(screenName)%>Table';\n\nconst <%= changeCase.pascal(screenName)%> = () => (\n  <Card padding=\"md\" stretch>\n    <Card.Header>\n      <Heading type=\"h4\" text=\" <%= changeCase.pascal(screenName)%>\" />\n    </Card.Header>\n\n    <<%= changeCase.pascal(entityName)%>CreateDialog />\n    <<%= changeCase.pascal(entityName)%>EditDialog />\n    <<%= changeCase.pascal(entityName)%>DeleteDialog />\n    <Card.Body padding=\"none\" stretch scrollable>\n      <<%= changeCase.pascal(screenName)%>Table />\n    </Card.Body>\n  </Card>\n);\n\nexport { <%= changeCase.pascal(screenName)%> };\n";

var generateIndex = function generateIndex(_ref) {
  var tablesList = _ref.tablesList,
      tableId = _ref.tableId,
      screenName = _ref.screenName;
  var table = tablesList.find(function (_ref2) {
    var id = _ref2.id;
    return tableId === id;
  });

  if (!table) {
    throw new Error("Can't find a table with ".concat(tableId, " id"));
  }

  var tableName = table.displayName || table.name;
  var entityName = pluralize.singular(screenName || tableName);
  var tableGenerated = ejs.render(index, {
    changeCase: changeCase,
    entityName: entityName,
    pluralize: pluralize,
    screenName: screenName || tableName,
    tableName: tableName
  });
  return (0, _formatCode.formatCode)(tableGenerated);
};

exports.generateIndex = generateIndex;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9nZW5lcmF0ZUZpbGVzL2dlbmVyYXRlSW5kZXgvaW5kZXgudHMiXSwibmFtZXMiOlsiZ2VuZXJhdGVJbmRleCIsInRhYmxlc0xpc3QiLCJ0YWJsZUlkIiwic2NyZWVuTmFtZSIsInRhYmxlIiwiZmluZCIsImlkIiwiRXJyb3IiLCJ0YWJsZU5hbWUiLCJkaXNwbGF5TmFtZSIsIm5hbWUiLCJlbnRpdHlOYW1lIiwicGx1cmFsaXplIiwic2luZ3VsYXIiLCJ0YWJsZUdlbmVyYXRlZCIsImVqcyIsInJlbmRlciIsImluZGV4IiwiY2hhbmdlQ2FzZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOzs7OztBQUdBOzs7QUFHTyxJQUFNQSxhQUFhLEdBQUcsU0FBaEJBLGFBQWdCLE9BQTBEO0FBQUEsTUFBdkRDLFVBQXVELFFBQXZEQSxVQUF1RDtBQUFBLE1BQTNDQyxPQUEyQyxRQUEzQ0EsT0FBMkM7QUFBQSxNQUFsQ0MsVUFBa0MsUUFBbENBLFVBQWtDO0FBQ3JGLE1BQU1DLEtBQUssR0FBR0gsVUFBVSxDQUFDSSxJQUFYLENBQWdCO0FBQUEsUUFBR0MsRUFBSCxTQUFHQSxFQUFIO0FBQUEsV0FBWUosT0FBTyxLQUFLSSxFQUF4QjtBQUFBLEdBQWhCLENBQWQ7O0FBRUEsTUFBSSxDQUFDRixLQUFMLEVBQVk7QUFBRSxVQUFNLElBQUlHLEtBQUosbUNBQXFDTCxPQUFyQyxTQUFOO0FBQTJEOztBQUV6RSxNQUFNTSxTQUFTLEdBQUdKLEtBQUssQ0FBQ0ssV0FBTixJQUFxQkwsS0FBSyxDQUFDTSxJQUE3QztBQUVBLE1BQU1DLFVBQVUsR0FBR0MsU0FBUyxDQUFDQyxRQUFWLENBQW1CVixVQUFVLElBQUlLLFNBQWpDLENBQW5CO0FBRUEsTUFBTU0sY0FBYyxHQUFHQyxHQUFHLENBQUNDLE1BQUosQ0FBV0MsS0FBWCxFQUFrQjtBQUN2Q0MsSUFBQUEsVUFBVSxFQUFWQSxVQUR1QztBQUV2Q1AsSUFBQUEsVUFBVSxFQUFWQSxVQUZ1QztBQUd2Q0MsSUFBQUEsU0FBUyxFQUFUQSxTQUh1QztBQUl2Q1QsSUFBQUEsVUFBVSxFQUFFQSxVQUFVLElBQUlLLFNBSmE7QUFLdkNBLElBQUFBLFNBQVMsRUFBVEE7QUFMdUMsR0FBbEIsQ0FBdkI7QUFRQSxTQUFPLDRCQUFXTSxjQUFYLENBQVA7QUFDRCxDQWxCTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIGNoYW5nZUNhc2UgZnJvbSAnY2hhbmdlLWNhc2UnO1xuaW1wb3J0ICogYXMgZWpzIGZyb20gJ2Vqcyc7XG5pbXBvcnQgKiBhcyBwbHVyYWxpemUgZnJvbSAncGx1cmFsaXplJztcbmltcG9ydCB7IGZvcm1hdENvZGUgfSBmcm9tICcuLi8uLi9mb3JtYXRDb2RlJztcbmltcG9ydCB7IElHZW5lcmF0b3JzRGF0YSB9IGZyb20gJy4uLy4uL3R5cGVzJztcblxuLy8gQHRzLWlnbm9yZVxuaW1wb3J0IGluZGV4IGZyb20gJy4vaW5kZXguanMuZWpzJztcblxuZXhwb3J0IGNvbnN0IGdlbmVyYXRlSW5kZXggPSAoeyB0YWJsZXNMaXN0LCB0YWJsZUlkLCBzY3JlZW5OYW1lIH06IElHZW5lcmF0b3JzRGF0YSkgPT4ge1xuICBjb25zdCB0YWJsZSA9IHRhYmxlc0xpc3QuZmluZCgoeyBpZCB9KSA9PiB0YWJsZUlkID09PSBpZCk7XG5cbiAgaWYgKCF0YWJsZSkgeyB0aHJvdyBuZXcgRXJyb3IoYENhbid0IGZpbmQgYSB0YWJsZSB3aXRoICR7dGFibGVJZH0gaWRgKTsgfVxuXG4gIGNvbnN0IHRhYmxlTmFtZSA9IHRhYmxlLmRpc3BsYXlOYW1lIHx8IHRhYmxlLm5hbWU7XG5cbiAgY29uc3QgZW50aXR5TmFtZSA9IHBsdXJhbGl6ZS5zaW5ndWxhcihzY3JlZW5OYW1lIHx8IHRhYmxlTmFtZSk7XG5cbiAgY29uc3QgdGFibGVHZW5lcmF0ZWQgPSBlanMucmVuZGVyKGluZGV4LCB7XG4gICAgY2hhbmdlQ2FzZSxcbiAgICBlbnRpdHlOYW1lLFxuICAgIHBsdXJhbGl6ZSxcbiAgICBzY3JlZW5OYW1lOiBzY3JlZW5OYW1lIHx8IHRhYmxlTmFtZSxcbiAgICB0YWJsZU5hbWUsXG4gIH0pO1xuXG4gIHJldHVybiBmb3JtYXRDb2RlKHRhYmxlR2VuZXJhdGVkKTtcbn07XG4iXX0=